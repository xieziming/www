<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<title>  Post Views Q &#038; A &raquo; 谢子明</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="description" content="Post Views Q &#038; A  " />
<meta name="keywords" content="谢子明" />
<link rel="stylesheet" href="http://www.xieziming.com/wp-content/themes/ziming/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.xieziming.com/feed" />
<link rel="alternate" type="application/rss+xml" href="http://www.xieziming.com/comments/feed" title="谢子明 Comments RSS feed" />
<link rel="shortcut icon" href="http://www.xieziming.com/wp-content/themes/ziming/favicon.ico">
<link rel="Bookmark" href="http://www.xieziming.com/wp-content/themes/ziming/favicon.ico">
<link rel="pingback" href="http://www.xieziming.com/xmlrpc.php" />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="谢子明 &raquo; Post Views Q &#038; A Comments Feed" href="http://www.xieziming.com/archives/6720.html/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/xieziming.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<script type='text/javascript' src='http://www.xieziming.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://www.xieziming.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='http://www.xieziming.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.xieziming.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.xieziming.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Post Views Previews' href='http://www.xieziming.com/archives/6717.html' />
<link rel='next' title='Live Calendar Q &#038; A' href='http://www.xieziming.com/archives/6737.html' />
<meta name="generator" content="WordPress 4.7" />
<link rel="canonical" href="http://www.xieziming.com/archives/6720.html" />
<link rel='shortlink' href='http://www.xieziming.com/?p=6720' />
<link rel="alternate" type="application/json+oembed" href="http://www.xieziming.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fxieziming.com%2Farchives%2F6720.html" />
<link rel="alternate" type="text/xml+oembed" href="http://www.xieziming.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fxieziming.com%2Farchives%2F6720.html&#038;format=xml" />
 	<link rel="stylesheet" href="http://www.xieziming.com/wp-content/plugins/live-calendar/live-calendar.css" type="text/css" media="screen" /> 
<link rel="stylesheet" href="http://www.xieziming.com/wp-content/plugins/wp-code/wp-code.css" type="text/css" media="screen" />

<link rel="stylesheet" href="http://www.xieziming.com/wp-content/plugins/zoom-highslide/highslide.css" type="text/css" media="screen" />
<script type="text/javascript" src="http://www.xieziming.com/wp-content/plugins/zoom-highslide/js/highslide-full.packed.js"></script>
<script type="text/javascript">
	hs.graphicsDir = 'http://www.xieziming.com/wp-content/plugins/zoom-highslide/graphics/';
	hs.align = 'center';
	hs.transitions = ['expand', 'crossfade'];
	hs.outlineType = 'rounded-white';
  hs.wrapperClassName = 'controls-in-heading';
	hs.showCredits=false;
	hs.fadeInOut = true;
	hs.dimmingOpacity = 0.8;

	// Add the controlbar
	if (hs.addSlideshow) hs.addSlideshow({
		//slideshowGroup: 'group1',
		interval: 4000,
		repeat: false,
		useControls: true,
		fixedControls: false,
		overlayOptions: {
			opacity: 1,
			position: 'top center',
			hideOnMouseOut: true
		}
	});
</script>

<script type="text/javascript">
	var widthRestriction = 668; 
	var heightRestriction = 1000; 
</script>
<script type="text/javascript" src="http://www.xieziming.com/wp-content/plugins/zoom-highslide/js/zoom.js"></script>
	
<!--script src="http://www.xieziming.com/wp-content/themes/ziming/js/mouse.js" type="text/javascript"></script--> 
</head>
<body class="normalbg">
<div id="container">
	<div id="head">
		<div id="nav">
			<ul>
				<li class="first"><a href="http://www.xieziming.com" title="首页">首页</a></li>
				<li class="page_item page-item-2"><a href="http://www.xieziming.com/recent" title="最近">最近</a></li>
				<li class="page_item page-item-3"><a href="http://www.xieziming.com/photo" title="Photo">映象</a></li>
				<li class="page_item page-item-4"><a href="http://www.xieziming.com/food" title="Food">美食</a></li>
				<li class="page_item page-item-5"><a href="http://www.xieziming.com/topic" title="关键字">话题</a></li>
				<li class="page_item page-item-6"><a href="http://www.xieziming.com/travel" title="Travel">旅行</a></li>
				<li class="page_item page-item-7"><a href="http://www.xieziming.com/literature" title="Literature">文艺</a></li>
				<li class="page_item page-item-8"><a href="http://www.xieziming.com/wiki" title="技术维基">维基</a></li>
				<li class="page_item page-item-9"><a href="http://www.xieziming.com/calendar" title="Calendar">点滴</a></li>
			</ul>
		</div><!-- /nav -->		
	</div><!-- /head -->
<div id="main" class="altmainbg">

<script type="text/javascript">
function show_page(id,count,source){
	for (var i=1;i<=count;i++){
		if(id != i){
				jQuery("#part_"+i).hide();
				document.getElementById("li_"+i).style.fontWeight = "normal";
				document.getElementById("li_"+i).style.fontSize = "18px";
		}
	}
	jQuery("#part_"+id).show();
	document.getElementById("li_"+id).style.fontWeight = "bold";
	document.getElementById("li_"+id).style.fontSize = "30px";
	jQuery('body,html').animate({scrollTop:0},1000);
        return false;
}
</script>
<div id="content">

	<div class="post" id="post-6720">
		<h2 class="title">Post Views Q &#038; A</h2>
		<p class="postmetadata">
			<span class="date">05 January 2011</span>
			<span class="category">Categoried in <a href="http://www.xieziming.com/topic/kai-yuan" rel="category tag">开源</a></span>
			<span class="comments">18</span>
			<span class="view">Preview : 264 , Read : 5749 </span>
			<span class="mail">Index : 2866 </span>
		</p>
		<div class="entry">				
<div id="part_1"><p><font color="#00BB00"><strong>Latest Q:</strong></font><br />
<strong>Versions lower than v1.9.0 upgrade to v2.5.1 failure</strong></p>
<p>The key point : please upgrade to v1.9.0 first, then upgrade to v2.5.3</p>
<p>Steps:</p>
<p>1. deactive older version.</p>
<p>2. delete new version tables (_realtime, _history) , if it has been upgraded to v2.5 before, if not skip this step</p>
<p>3. delete the options of post_views_fix_process by the follow sql ,  if it has been upgraded to v2.5 before, if not skip this step</p>
<p>Run : SELECT * FROM wp_options WHERE option_name =&#8217;post_views_fix_process&#8217;   in phpmyadmin, it will a record, delete it.</p>
<p>4. replace older version files with v1.9.0, then active v1.9.0 to process the upgrade actions</p>
<p>5. go to dashboard, click &#8216;post-views&#8217; manage page( some actions will process here ), yes, just click the &#8220;post-views&#8221; page</p>
<p>6. delete the options of post_views_fix_process by the follow sql</p>
<p>Run : SELECT * FROM wp_options WHERE option_name =&#8217;post_views_fix_process&#8217;   in phpmyadmin, it will a record, delete it.</p>
<p>6. deactive v1.9.0</p>
<p>7. replace older version files with v2.5.3, then active v2.5.3 to process the upgrade actions</p>
<p>finish.</p>
<p>download v2.5.0  : http://wordpress.org/extend/plugins/post-views/</p>
<p>download 1.9.0 : http://images.xieziming.com/upload/file/post_views/v1.9.0.rar</p>
<p><font color="#00BB00"><strong>Self Test:</strong></font><br />
<strong>&#8216;post-views&#8217; plugin cannot work ? the following are the self test steps:</strong></p>
<p><font color="#00BB00">version 1.9.0 upgrade failed users , please refer to the case 6 in later paragraph directly.</font></p>
<p>1)  open a post in browser, then go to the dashboard, check the views in &#8216;normal: analytics&#8217; (order by visited time), whether it increased or not? if it have increased, that means the plugins work well till now. If not, go to &#8216;robot: analytics&#8217;, check whether it is recorded by mistake.</p>
<p>2) if the above is wrong, please tell me what happen, better to attach some screenshots.</p>
<p>3) if the above is right, but the post views displayed is wrong, please attach your code segment here, i will check it. </p>
<p align="center"><font color="#0000FF">It&#8217;s recommended to see my sample code being used in my blog first <a href="http://www.xieziming.com/dev/post-views/usage" target="_blank">【Sample Code】</a></font></p>
<p><font color="#bb0000"><strong>Uninstall Plugin:</strong></font></p>
<p><strong>&#8216;post-views&#8217; plugin works badly ? i want to completely uninstall it, the following are the steps:</strong></p>
<p>(1) Delete database table &#8216;post_views&#8217; and &#8216;post_views_his&#8217;, with prefix &#8216;wp_&#8217;.</p>
<p>(2) Delete wordpress options, using the following sql:</p>

<div class="wp_code"><div class="pre"><pre class="sql" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #66cc66;">*</span> 
<span style="color: #993333; font-weight: bold;">FROM</span>  <span style="color: #ff0000;">`wp_options`</span> 
<span style="color: #993333; font-weight: bold;">WHERE</span>  <span style="color: #ff0000;">`option_name`</span> <span style="color: #993333; font-weight: bold;">LIKE</span>  <span style="color: #ff0000;">'post_views%'</span></pre></div></div>

<p>There should be 4 records, delete all of them, or just execute the following code:</p>

<div class="wp_code"><div class="pre"><pre class="sql" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #993333; font-weight: bold;">DELETE</span>
<span style="color: #993333; font-weight: bold;">FROM</span>  <span style="color: #ff0000;">`wp_options`</span> 
<span style="color: #993333; font-weight: bold;">WHERE</span>  <span style="color: #ff0000;">`option_name`</span> <span style="color: #993333; font-weight: bold;">LIKE</span>  <span style="color: #ff0000;">'post_views%'</span></pre></div></div>

<p>Now the post-views plugin was uninstall successfully! You can choose whether to reinstall or forget it.</p>
<p><font color="#0000FF"><strong>Issues:</strong></font><br />
&#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211;<br />
<strong> Case 6 : Post-views” version 1.9.0 cannot work</strong></p>
<p>1) Once the update files download finished, you should click the &#8216;post views&#8217; menu first, this will trigger some update actions first to complete the upgrade. So if you haven&#8217;t done this, please retry. If this also cannot do, then go to next step.</p>
<p>2) Check database tables, use phpMyadmin to open &#8216;wp_post_views&#8217;, &#8216;wp_post_views_his&#8217; these two tables.  Check the table&#8217;s struct, whether column &#8216;output_type&#8217; exists in both tables. if not, that means the upgrade failed.</p>
<p>3) open table &#8216;wp_post_views&#8217;, check whether the primary key is &#8220;post_id,view_type,output_type&#8221;.  if not, that means the upgrade failed.</p>
<p>4) open table &#8216;wp_post_views_his&#8217;, check whether the primary key is &#8220;year_id,post_id,view_type,output_type&#8221;.  if not, that means the upgrade failed.</p>
<p>5) If the upgrade fails, please tell me for further resolution, if you don&#8217;t care about your historic data, you can completely uninstall the plugin, then reinstall it. this won&#8217;t lead to upgrade failure.</p>
<p>For these guys whose upgrade failed, i am so sorry. But there are about 7 versions being used, i am not prefect enough to go through all test.</p>
</div><div id="part_2" style="display:none;"><p><strong><font color="#0000FF">V2.5.0, A completely new installation. History data of previous versions wont be imported!</font></strong></p>
<blockquote>
<p><strong>Released : </strong> 5 April, 2010</p>
<p><strong>Previews : </strong><a href="http://www.xieziming.com/dev/post-views/previews">V2.5.0 previews, the top 3 images.</a></p>
<p><strong>Download : </strong><a href="http://wordpress.org/extend/plugins/post-views/"> wordpress</a></p>
<p><strong>Usage : </strong><a href="http://www.xieziming.com/dev/post-views/usage" target="_blank">Usage and Sample Code</a></p>
<p><strong>Installation : </strong>for versions lower than v2.0.0, just replace the old files, and change the old code (such as get_post_views) . for v2.0.0, you need to delete &#8216;wp_post_views_realtime&#8217; and  &#8216;wp_post_views_history&#8217; these two tables first.</p>
<p><strong>Tips : </strong>It&#8217;s a completely new version, which cannot upgraded from the lower versions. It&#8217;s the most stable version, with stable invoking functions (wont be changed later), and all features that i want to apply on. If upgraded from 1.9 or other lower versions, you will find the historic data aren&#8217;t displayed in the dashboard, yes, it is! Everything start only from now on. And the historic data still exists in the database, if you want to use the previous version, just download the previous version such as 1.9.0, then replace the files. Everything goes back! I did this, for the issues of upgrade failure. there are more than 8 versions that are being used by many users. When i want to fix a bug, there are so many things to think about, and many problems came out. So i make this stable version. It should be the last big version, i wont change it too much later, maybe just fixed some small bugs.</p>
</blockquote>
<p><strong><font color="#0000FF">Manual steps to move the historic data to new version :</font></strong><br />
The following code should be move the post total views to V2.5.0, it recommended to stop the plugin first, and run it one by one. If you have update to v2.5.1 don&#8217;t run these scripts, and the scripts can only run once(excerpt step 1 and step 3).</p>
<p>Step 1：</p>

<div class="wp_code"><div class="pre"><pre class="sql" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #993333; font-weight: bold;">INSERT</span> <span style="color: #993333; font-weight: bold;">INTO</span> wp_post_views_history <span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #cc66cc;">2011</span><span style="color: #66cc66;">,</span><span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>post_id<span style="color: #66cc66;">,</span><span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>view_type<span style="color: #66cc66;">,</span><span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>output_type<span style="color: #66cc66;">,-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span>
<span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,-</span><span style="color: #cc66cc;">1</span> <span style="color: #993333; font-weight: bold;">FROM</span> wp_post_views <span style="color: #993333; font-weight: bold;">OLD</span> <span style="color: #993333; font-weight: bold;">WHERE</span> <span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>post_id<span style="color: #66cc66;">,</span><span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>view_type<span style="color: #66cc66;">,</span><span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>output_type<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">NOT</span> <span style="color: #993333; font-weight: bold;">IN</span> 
<span style="color: #66cc66;">&#40;</span> <span style="color: #993333; font-weight: bold;">SELECT</span> post_id<span style="color: #66cc66;">,</span>view_type<span style="color: #66cc66;">,</span>output_type <span style="color: #993333; font-weight: bold;">FROM</span> wp_post_views_realtime<span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></pre></div></div>

<p>Step 2：</p>

<div class="wp_code"><div class="pre"><pre class="sql" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #993333; font-weight: bold;">INSERT</span> <span style="color: #993333; font-weight: bold;">INTO</span> wp_post_views_realtime <span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> post_id<span style="color: #66cc66;">,</span>view_type<span style="color: #66cc66;">,</span>output_type<span style="color: #66cc66;">,</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span>
post_views_total<span style="color: #66cc66;">,</span>latest_view_time <span style="color: #993333; font-weight: bold;">FROM</span> wp_post_views <span style="color: #993333; font-weight: bold;">WHERE</span> <span style="color: #66cc66;">&#40;</span>wp_post_views<span style="color: #66cc66;">.</span>post_id<span style="color: #66cc66;">,</span>
wp_post_views<span style="color: #66cc66;">.</span>view_type<span style="color: #66cc66;">,</span>wp_post_views<span style="color: #66cc66;">.</span>output_type<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">NOT</span> <span style="color: #993333; font-weight: bold;">IN</span> <span style="color: #66cc66;">&#40;</span> <span style="color: #993333; font-weight: bold;">SELECT</span> post_id<span style="color: #66cc66;">,</span>
view_type<span style="color: #66cc66;">,</span>output_type <span style="color: #993333; font-weight: bold;">FROM</span> wp_post_views_realtime<span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></pre></div></div>

<p>Step 3：</p>

<div class="wp_code"><div class="pre"><pre class="sql" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #993333; font-weight: bold;">UPDATE</span> wp_post_views_realtime <span style="color: #993333; font-weight: bold;">NEW</span> <span style="color: #993333; font-weight: bold;">SET</span> <span style="color: #993333; font-weight: bold;">NEW</span><span style="color: #66cc66;">.</span>post_views_total <span style="color: #66cc66;">=</span>  <span style="color: #993333; font-weight: bold;">NEW</span><span style="color: #66cc66;">.</span>post_views_total <span style="color: #66cc66;">+</span> <span style="color: #66cc66;">&#40;</span>
<span style="color: #993333; font-weight: bold;">SELECT</span> post_views_total <span style="color: #993333; font-weight: bold;">FROM</span> wp_post_views <span style="color: #993333; font-weight: bold;">OLD</span> <span style="color: #993333; font-weight: bold;">WHERE</span> <span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>post_id <span style="color: #66cc66;">=</span> <span style="color: #993333; font-weight: bold;">NEW</span><span style="color: #66cc66;">.</span>post_id <span style="color: #993333; font-weight: bold;">AND</span> 
<span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>view_type <span style="color: #66cc66;">=</span> <span style="color: #993333; font-weight: bold;">NEW</span><span style="color: #66cc66;">.</span>view_type <span style="color: #993333; font-weight: bold;">AND</span> <span style="color: #993333; font-weight: bold;">OLD</span><span style="color: #66cc66;">.</span>output_type <span style="color: #66cc66;">=</span> <span style="color: #993333; font-weight: bold;">NEW</span><span style="color: #66cc66;">.</span>output_type<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">WHERE</span> <span style="color: #66cc66;">&#40;</span>
<span style="color: #993333; font-weight: bold;">NEW</span><span style="color: #66cc66;">.</span>post_id<span style="color: #66cc66;">,</span><span style="color: #993333; font-weight: bold;">NEW</span><span style="color: #66cc66;">.</span>view_type<span style="color: #66cc66;">,</span><span style="color: #993333; font-weight: bold;">NEW</span><span style="color: #66cc66;">.</span>output_type<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">IN</span> <span style="color: #66cc66;">&#40;</span> <span style="color: #993333; font-weight: bold;">SELECT</span> post_id<span style="color: #66cc66;">,</span>view_type<span style="color: #66cc66;">,</span>
output_type <span style="color: #993333; font-weight: bold;">FROM</span> wp_post_views<span style="color: #66cc66;">&#41;</span></pre></div></div>

<p align="center"><strong><a href="http://images.xieziming.com/upload/file/post_views/v1.9.0.rar">#####  Version 1.9.0 #####</a></strong></p>
<p><font color="#FF0000">2011-03-21  V1.9.0  (1) fixed bug in week summary, (2) add feature of &#8216;excerpt&#8217; views analytics, (3) changes in invoking functions, (4) optimize database table structure.</font></p>
</div><div id="part_3" style="display:none;"><p><strong> Case 5 : Post-views” visible for roles lower than &#8220;administrator&#8221;</strong></p>
<p>1) Open the &#8216;post-views.php&#8217;, then find the follow code:</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"> add_dashboard_page<span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'Post-Views'</span><span style="color: #339933;">,</span>__<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Post Views'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'post-views'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'manage_options'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'post-views'</span><span style="color: #339933;">,</span>  <span style="color: #0000ff;">'post_views'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></div>

<p>change it as follows:</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"> add_dashboard_page<span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'Post-Views'</span><span style="color: #339933;">,</span>__<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Post Views'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'post-views'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'post-views'</span><span style="color: #339933;">,</span>  <span style="color: #0000ff;">'post_views'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></div>

<p><strong> Case 4 : Add more post type (besides &#8216;page&#8217; and &#8216;post&#8217; )</strong></p>
<p>1) Open the &#8216;post-views.php&#8217;, then find the follow code:</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;">&lt;label for=&quot;<span style="color: #000000; font-weight: bold;">&lt;?php</span> <span style="color: #b1b100;">echo</span> <span style="color: #000088;">$this</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">get_field_id</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'mode'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000000; font-weight: bold;">?&gt;</span>&quot;&gt;&lt; ?php _e('Include Views From:', 'post-views'); ?&gt;
&lt;select name=&quot;<span style="color: #000000; font-weight: bold;">&lt;?php</span> <span style="color: #b1b100;">echo</span> <span style="color: #000088;">$this</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">get_field_name</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'mode'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000000; font-weight: bold;">?&gt;</span>&quot; id=&quot;&lt; ?php echo $this-&gt;get_field_id('mode'); ?&gt;&quot; class=&quot;widefat&quot;&gt;
	&lt;option value=&quot;both&quot;<span style="color: #000000; font-weight: bold;">&lt;?php</span> selected<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'both'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$mode</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000000; font-weight: bold;">?&gt;</span>&gt;&lt; ?php _e('Posts &amp;amp; Pages', 'post-views'); ?&gt;&lt;/option&gt;
	&lt;option value=&quot;post&quot;<span style="color: #000000; font-weight: bold;">&lt;?php</span> selected<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'post'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$mode</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000000; font-weight: bold;">?&gt;</span>&gt;&lt; ?php _e('Posts Only', 'post-views'); ?&gt;&lt;/option&gt;
	&lt;option value=&quot;page&quot;<span style="color: #000000; font-weight: bold;">&lt;?php</span> selected<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'page'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$mode</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000000; font-weight: bold;">?&gt;</span>&gt;&lt; ?php _e('Pages Only', 'post-views'); ?&gt;&lt;/option&gt;
	&lt;/select&gt;
&lt;/label&gt;</pre></div></div>

<p>2) add a similar code like following in select&#8217;s options (code-1 or code-2):</p>
<p>code-1:</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;">&lt;option value=&quot;your_page_type&quot;<span style="color: #000000; font-weight: bold;">&lt;?php</span> selected<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'your_page_type'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$mode</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000000; font-weight: bold;">?&gt;</span>&gt;&lt; ?php _e('your_page_type Only'
, 'post-views'); ?&gt;&lt;/option&gt;</pre></div></div>

<p>code-2 (recommended, by Tom Fortmuller) :</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #339933;">&lt;</span> ?php			
	<span style="color: #000088;">$post_types</span><span style="color: #339933;">=</span>get_post_types<span style="color: #009900;">&#40;</span><span style="color: #990000;">array</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'public'</span><span style="color: #339933;">=&gt;</span>true<span style="color: #339933;">,</span><span style="color: #0000ff;">'_builtin'</span><span style="color: #339933;">=&gt;</span>false<span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'names'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> 
	<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$post_types</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$post_type</span> <span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 
	    <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">'&lt;option value=&quot;'</span><span style="color: #339933;">.</span><span style="color: #000088;">$post_type</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'&quot;'</span><span style="color: #339933;">.</span>selected<span style="color: #009900;">&#40;</span><span style="color: #000088;">$post_type</span><span style="color: #339933;">,</span><span style="color: #000088;">$mode</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'&gt;'</span><span style="color: #339933;">.</span> <span style="color: #000088;">$post_type</span><span style="color: #339933;">.</span> <span style="color: #0000ff;">'&lt;/option&gt;'</span><span style="color: #339933;">;</span> 
	<span style="color: #009900;">&#125;</span>
<span style="color: #000000; font-weight: bold;">?&gt;</span></pre></div></div>

<p><strong> Case 3 : Post Views cannot display since upgrade</strong><br />
<strong>Reason :</strong></p>
<p>If it was upgraded from version 1.3.0 or lower, the reason is the invoking function has changed.</p>
<p><strong>Resolve :</strong></p>
<p>modify your template’s single.php and index.php or another place where you had modified last time</p>
<p>find the follow code</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #b1b100;">if</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">function_exists</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_views'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> _e<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Views : '</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">echo</span> get_views<span style="color: #009900;">&#40;</span><span style="color: #000088;">$type</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'normal'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><span style="color: #009900;">&#125;</span>
<span style="color: #b1b100;">if</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">function_exists</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_views'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>  _e<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Index : '</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">echo</span> get_views<span style="color: #009900;">&#40;</span><span style="color: #000088;">$type</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'bot'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><span style="color: #009900;">&#125;</span></pre></div></div>

<p>pls replace these with</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #b1b100;">if</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">function_exists</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_post_views'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> _e<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">' , Views: '</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">echo</span> get_post_views<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'normal'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><span style="color: #009900;">&#125;</span>
<span style="color: #b1b100;">if</span><span style="color: #009900;">&#40;</span><span style="color: #990000;">function_exists</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_post_views'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> _e<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">' , Index: '</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">echo</span> get_post_views<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'robot'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><span style="color: #009900;">&#125;</span></pre></div></div>

</div><div id="part_4" style="display:none;"><p><strong> Case 2 : Activate the Plugin comes Errors</strong></p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;">Fatal error<span style="color: #339933;">:</span> Cannot redeclare postviews_textdomain<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#40;</span>previously declared in 
E<span style="color: #339933;">:</span>\<span style="color: #990000;">Virtual</span> Server\web\wordpress\wp<span style="color: #339933;">-</span>content\plugins\wp<span style="color: #339933;">-</span>postviews\wp<span style="color: #339933;">-</span>postviews<span style="color: #339933;">.</span>php<span style="color: #339933;">:</span><span style="color: #cc66cc;">45</span><span style="color: #009900;">&#41;</span> 
in E<span style="color: #339933;">:</span>\<span style="color: #990000;">Virtual</span> Server\web\wordpress\wp<span style="color: #339933;">-</span>content\plugins\post<span style="color: #339933;">-</span>views\post<span style="color: #339933;">-</span>views<span style="color: #339933;">.</span>php on line <span style="color: #cc66cc;">42</span></pre></div></div>

<p>To resolve this problem, the following 2 methods are recommended:</p>
<p><strong>Resolve :</strong></p>
<p>Method.1. Modify the &#8216;\plugins\post-views\post-views.php&#8217;, if u can access the files directly.</p>
<p>Find the</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;">add_action<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'init'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'postviews_textdomain'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></div>

<p>modify it to:</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;">add_action<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'init'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'post_views_textdomain'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></div>

<p>Find the following code :</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #000000; font-weight: bold;">function</span> postviews_textdomain<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
 load_plugin_textdomain<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'post-views'</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'post-views'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></div>

<p>change the function name to  &#8216; post_views_textdomain &#8216;:</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #000000; font-weight: bold;">function</span> post_views_textdomain<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
 load_plugin_textdomain<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'post-views'</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'post-views'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></div>

<p>Method.2. Modify the plugin directly by click &#8216;Editor&#8217; submenu of &#8216;plugin&#8217; on Dashboard, select the &#8216;post-views&#8217; plugin , then modify it as above.</p>
<p><strong> Case 1 : &#8216;post-views&#8217; plugin cannot work ? using cache plugins ?</strong></p>
<p>1)  open a post in browser, then go to the dashboard, check the views in &#8216;normal: analytics&#8217; (order by visited time), whether it increased or not? if it have increased, that means the plugins work well till now. If not, go to &#8216;robot: analytics&#8217;, check whether it is recorded by mistake.</p>
<p>2)  then check the page&#8217;s source, by right-click&#8217;s &#8220;view source&#8221; in chrome or ie.  Check the views&#8217; code, find by searching &#8220;Generated By Post-Views&#8221;:</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #339933;">&lt;!--</span> Start Of Script Generated By Post<span style="color: #339933;">-</span>Views <span style="color: #339933;">--&gt;</span>
    <span style="color: #339933;">&lt;</span>script type<span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;text/javascript&quot;</span><span style="color: #339933;">&gt;</span>
     jQuery<span style="color: #339933;">.</span>ajax<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#123;</span>type<span style="color: #339933;">:</span><span style="color: #0000ff;">'GET'</span><span style="color: #339933;">,</span>url<span style="color: #339933;">:</span><span style="color: #0000ff;">'&quot;.plugins_url('</span>post<span style="color: #339933;">-</span>views<span style="color: #339933;">/</span>post<span style="color: #339933;">-</span>views<span style="color: #339933;">.</span>php<span style="color: #0000ff;">').&quot;'</span><span style="color: #339933;">,</span>data<span style="color: #339933;">:</span><span style="color: #0000ff;">'cache_post_id=&quot;.$id.&quot;
&amp;cache_post_type=&quot;.$type.&quot;'</span><span style="color: #339933;">,</span>cache<span style="color: #339933;">:</span><span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
     <span style="color: #000000; font-weight: bold;">&lt;/script&gt;</span>
<span style="color: #339933;">&lt;!--</span> <span style="color: #990000;">End</span> Of Script Generated By Post<span style="color: #339933;">-</span>Views <span style="color: #339933;">--&gt;</span></pre></div></div>

<p> check whether &#8220;ache_post_type=&#8221; is &#8220;normal&#8221;?</p>
<p>3) Check the &#8220;get_post_views&#8221; code, find it by search &#8220;success: function(responseText, textStatus, XMLHttpRequest) :</p>

<div class="wp_code"><div class="pre"><pre class="php" style="font-family:'Times New Roman',Garamond, Times;"><span style="color: #339933;">&lt;</span>label id<span style="color: #339933;">=</span>\<span style="color: #0000ff;">&quot;post_views_&quot;</span><span style="color: #339933;">.</span><span style="color: #000088;">$type</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;_&quot;</span><span style="color: #339933;">.</span><span style="color: #000088;">$post_id</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;<span style="color: #000099; font-weight: bold;">\&quot;</span>&gt;&quot;</span><span style="color: #339933;">.</span><span style="color: #000088;">$views</span><span style="color: #339933;">;</span>  <span style="color: #0000ff;">&quot;&lt;/label&gt;&quot;</span><span style="color: #339933;">;</span>
 <span style="color: #339933;">&lt;</span>script type<span style="color: #339933;">=</span>\<span style="color: #0000ff;">&quot;text/javascript<span style="color: #000099; font-weight: bold;">\&quot;</span>&gt;&quot;</span><span style="color: #339933;">;</span>
  jQuery<span style="color: #339933;">.</span>ajax<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#123;</span>type<span style="color: #339933;">:</span><span style="color: #0000ff;">'GET'</span><span style="color: #339933;">,</span>url<span style="color: #339933;">:</span><span style="color: #0000ff;">'&quot;.plugins_url('</span>post<span style="color: #339933;">-</span>views<span style="color: #339933;">/</span>post<span style="color: #339933;">-</span>views<span style="color: #339933;">.</span>php<span style="color: #0000ff;">').&quot;'</span><span style="color: #339933;">,</span>data<span style="color: #339933;">:</span><span style="color: #0000ff;">'cache_post_id=&quot;.$post_id.&quot;
&amp;cache_post_type=&quot;.$type.&quot;&amp;cache_time_span=&quot;.$timespan.&quot;'</span><span style="color: #339933;">,</span>cache<span style="color: #339933;">:</span><span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span>
success<span style="color: #339933;">:</span> <span style="color: #000000; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>responseText<span style="color: #339933;">,</span> textStatus<span style="color: #339933;">,</span> XMLHttpRequest<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>this<span style="color: #339933;">;</span>document<span style="color: #339933;">.</span>getElementById<span style="color: #009900;">&#40;</span>\<span style="color: #0000ff;">&quot;post_views_&quot;</span><span style="color: #339933;">.</span><span style="color: #000088;">$type</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;_&quot;</span><span style="color: #339933;">.</span><span style="color: #000088;">$post_id</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;<span style="color: #000099; font-weight: bold;">\&quot;</span>).innerText = responseText;}});
 &quot;</span><span style="color: #000000; font-weight: bold;">&lt;/script&gt;</span><span style="color: #0000ff;">&quot;;</span></pre></div></div>

<p>To check the &#8220;$views&#8221; above is right or not, it&#8217;s the last views when the page cached, and the followed code &#8220;jQuery&#8230;&#8221; is to get the latest views.</p>
<p>In summary,  the dashboard&#8217;s analytics is real-time, check it first, the get_post_views is to show the views and try to get the latest views.</p>
<p>Then tell me what you have found.</p>
</div><div id="paginate"><label id="li_1" onclick="javascript:show_page(1,4,this);" style="font-size:30px;font-weight:bold" onmouseover="this.style.cursor='pointer'">1</label><label id="li_2" onclick="javascript:show_page(2,4,this);"  onmouseover="this.style.cursor='pointer'">2</label><label id="li_3" onclick="javascript:show_page(3,4,this);"  onmouseover="this.style.cursor='pointer'">3</label><label id="li_4" onclick="javascript:show_page(4,4,this);"  onmouseover="this.style.cursor='pointer'">4</label></div> 
			<div align="center">1 month ago, this page was being read. </div>
			<p class="tags"><a href="http://www.xieziming.com/tag/wordpress" rel="tag">wordpress</a><br /></p>  
    </div><!-- /entry -->                                   
		<div class="postbottom"></div>		                              
		</div><!-- /post -->	

<div class="postrelated">
			<table width="100%" >				

					<tr><td align="left" class="dashedline_related"><a href="http://www.xieziming.com/archives/7174.html" rel="bookmark" title="Live Calendar Usage">Live Calend...</a></td>

					<td align="left" class="dashedline_related">★<a href="http://www.xieziming.com/archives/7580.html" rel="bookmark" title="Post Views Terms">Post ...</a></td>

					<td align="left" class="dashedline_related"><a href="http://www.xieziming.com/archives/7086.html" rel="bookmark" title="Live Calendar Mobile">Live C...</a></td>

				<td align="right" class="dashedline_related">★<a href="http://www.xieziming.com/archives/6717.html" rel="bookmark" title="Post Views Previews">Post Views ...</a></td></tr>

					<tr><td align="left" class="dashedline_related">★<a href="http://www.xieziming.com/archives/5313.html" rel="bookmark" title="Analytics of active versions">Analytics of...</a></td>

					<td align="left" class="dashedline_related"><a href="http://www.xieziming.com/archives/3735.html" rel="bookmark" title="WordPress SQL">WordPress S...</a></td>

					<td align="left" class="dashedline_related">★<a href="http://www.xieziming.com/archives/6706.html" rel="bookmark" title="Post Views Usage">Post Vi...</a></td>

				<td align="right" class="dashedline_related"><a href="http://www.xieziming.com/archives/6737.html" rel="bookmark" title="Live Calendar Q &#038; A">Live Ca...</a></td></tr>

					<tr><td align="left" class="dashedline_related"><a href="http://www.xieziming.com/archives/7182.html" rel="bookmark" title="Live Calendar Previews">Live Ca...</a></td>

					<td align="left" class="dashedline_related">★<a href="http://www.xieziming.com/archives/7677.html" rel="bookmark" title="Post Views Change Log">Post ...</a></td>

		</table>
</div>

		<div id="comments">

<ol class="commentlist">

<p align="right">Order by : <a href="?c=1&o=d" >Newer</a> | <a href="?c=1&o=a" >Older</a></p>


	<li class="alt2" id="comment-7303">	

	<div class="commentmeta">

		<table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1">

			<tr>

				<td align="left"><B><font size="2">iplaywind</font></B></td>

				<td align="right">2013-03-13</td>

			</tr>

			<tr>

				<td align="left">@22:33</td>

				<script type="text/javascript">

					function reply_comment(comment_id,comment_author){

					 		document.getElementById("comment_parent_id").value = comment_id;

					 		document.getElementById('reply-comment').innerText = "Reply to "+comment_author+" :";

					}

				</script>

				<td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(7303,'iplaywind')" >Reply</a></td>

			</tr>

		</table>

	</div><!-- /commentmeta -->

	<div class="commententry">


<p>你好，请问该插件是否可以用于本地测试WordPress？，即localhost？<br />
我在本次安装插件后发现无法记录文章的阅读次数。</p>

	</div><!-- /commententry -->

	</li>

<li class="alt2" id="comment-7304"><div class="commentmeta"><div class="gravatar"></div><!-- /gravatar --><table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1"><tr><td align="left"><B><font size="2">Suny</font></B></td><td align="right">2013-03-13</td></tr><tr><td align="left">@22:35&nbsp;&nbsp; to &nbsp;iplaywind</td><td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(7304,'Suny')">Reply</a></td></tr></table></div><!-- /commentmeta --><div class="commententry"><p>可以啊，这个没问题，你是不是加了number_formate(),把这个函数去掉吧</p></div><!-- /commententry --></li>
	<li class="alt" id="comment-5143">	

	<div class="commentmeta">

		<table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1">

			<tr>

				<td align="left"><B><font size="2">Jarain</font></B></td>

				<td align="right">2012-05-12</td>

			</tr>

			<tr>

				<td align="left">@23:32</td>

				<script type="text/javascript">

					function reply_comment(comment_id,comment_author){

					 		document.getElementById("comment_parent_id").value = comment_id;

					 		document.getElementById('reply-comment').innerText = "Reply to "+comment_author+" :";

					}

				</script>

				<td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(5143,'Jarain')" >Reply</a></td>

			</tr>

		</table>

	</div><!-- /commentmeta -->

	<div class="commententry">


<p>不知道博主的这个文章翻页是怎么弄的，一般的固定链接后的翻页网址格式好像是./6720.html/2 不知道怎么才能像贵站这样 ./6720_2.html。<br />
希望能指点一二，感谢！</p>

	</div><!-- /commententry -->

	</li>

<li class="alt" id="comment-5144"><div class="commentmeta"><div class="gravatar"></div><!-- /gravatar --><table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1"><tr><td align="left"><B><font size="2">Suny Tse</font></B></td><td align="right">2012-05-12</td></tr><tr><td align="left">@23:32&nbsp;&nbsp; to &nbsp;Jarain</td><td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(5144,'Suny Tse')">Reply</a></td></tr></table></div><!-- /commentmeta --><div class="commententry"><p>function add_custom_post_rewrite_rules($rules) {

$custom_rules = array(‘archives/([0-9]+)_([0-9]+).html$’=&gt;’index.php?p=$matches[1]&amp;page=$matches[2]‘,);
$rules = array_merge($custom_rules, $rules);
return $rules;
}

add_filter(‘post_rewrite_rules’, ‘add_custom_post_rewrite_rules’);</p></div><!-- /commententry --></li>
	<li class="alt2" id="comment-4469">	

	<div class="commentmeta">

		<table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1">

			<tr>

				<td align="left"><B><font size="2"><a href='http://www.thechinamade.com' rel='external nofollow' class='url'>Charles</a></font></B></td>

				<td align="right">2012-01-13</td>

			</tr>

			<tr>

				<td align="left">@21:33</td>

				<script type="text/javascript">

					function reply_comment(comment_id,comment_author){

					 		document.getElementById("comment_parent_id").value = comment_id;

					 		document.getElementById('reply-comment').innerText = "Reply to "+comment_author+" :";

					}

				</script>

				<td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(4469,'Charles')" >Reply</a></td>

			</tr>

		</table>

	</div><!-- /commentmeta -->

	<div class="commententry">


<p>The version I used is V2.6. It is installed directly from The offical site. When I go to the dashboard, check the views in ‘normal: analytics’, there&#8217;s nothing. When I go to ‘robot: analytics’, it is recorded. How can I correct this mistake?</p>

	</div><!-- /commententry -->

	</li>

<li class="alt2" id="comment-4470"><div class="commentmeta"><div class="gravatar"></div><!-- /gravatar --><table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1"><tr><td align="left"><B><font size="2"><a href="http://ziming.org" target="_blank">Suny Tse</a></font></B></td><td align="right">2012-01-13</td></tr><tr><td align="left">@22:54&nbsp;&nbsp; to &nbsp;Charles</td><td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(4470,'Suny Tse')">Reply</a></td></tr></table></div><!-- /commentmeta --><div class="commententry"><p>Try to re-activate the plugin.</p></div><!-- /commententry --></li>
	<li class="alt" id="comment-1972">	

	<div class="commentmeta">

		<table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1">

			<tr>

				<td align="left"><B><font size="2"><a href='http://ost-blog.passat32.de' rel='external nofollow' class='url'>OST</a></font></B></td>

				<td align="right">2011-04-10</td>

			</tr>

			<tr>

				<td align="left">@23:45</td>

				<script type="text/javascript">

					function reply_comment(comment_id,comment_author){

					 		document.getElementById("comment_parent_id").value = comment_id;

					 		document.getElementById('reply-comment').innerText = "Reply to "+comment_author+" :";

					}

				</script>

				<td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(1972,'OST')" >Reply</a></td>

			</tr>

		</table>

	</div><!-- /commentmeta -->

	<div class="commententry">


<p>Hallo<br />
I updated from 1.9 to 2.51. Now all my views is 0.<br />
You wrote: Import the historic data from lower version automatically (just total views)</p>
<p>Please hlep me. Where is my problem?<br />
Can i go back to version 1.9?</p>
<p>Thanks<br />
OST</p>

	</div><!-- /commententry -->

	</li>

<li class="alt" id="comment-1973"><div class="commentmeta"><div class="gravatar"></div><!-- /gravatar --><table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1"><tr><td align="left"><B><font size="2"><a href="http://ziming.org" target="_blank">Suny Tse</a></font></B></td><td align="right">2011-04-11</td></tr><tr><td align="left">@00:15&nbsp;&nbsp; to &nbsp;OST</td><td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(1973,'Suny Tse')">Reply</a></td></tr></table></div><!-- /commentmeta --><div class="commententry"><p>the upgrade failure maybe due to the incompletely successful upgrade of the v1.9. Some problems occur when moving the data. You can try to move it manually according the above manual moving steps. If still fail, you can choose using the blank data and record it from now on , or back to v1.9, the v1.9 packet is attached above. replace the v2.5, everything goes back!</p></div><!-- /commententry --></li>
	<li class="alt2" id="comment-1962">	

	<div class="commentmeta">

		<table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1">

			<tr>

				<td align="left"><B><font size="2">Will</font></B></td>

				<td align="right">2011-04-09</td>

			</tr>

			<tr>

				<td align="left">@10:48</td>

				<script type="text/javascript">

					function reply_comment(comment_id,comment_author){

					 		document.getElementById("comment_parent_id").value = comment_id;

					 		document.getElementById('reply-comment').innerText = "Reply to "+comment_author+" :";

					}

				</script>

				<td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(1962,'Will')" >Reply</a></td>

			</tr>

		</table>

	</div><!-- /commentmeta -->

	<div class="commententry">


<p>I upgraded to the new plugin and I have lost all my historical post view data.  How do I import all of my historical data? I am new to this and not a programmer so I need instructions on how to import my historical data&#8230;ALSO, I was using a widget called Post Views that worked but now does not work. I am running WP 3.1.1. Please help!</p>

	</div><!-- /commententry -->

	</li>

<li class="alt2" id="comment-1963"><div class="commentmeta"><div class="gravatar"></div><!-- /gravatar --><table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1"><tr><td align="left"><B><font size="2"><a href="http://ziming.org" target="_blank">Suny Tse</a></font></B></td><td align="right">2011-04-09</td></tr><tr><td align="left">@14:03&nbsp;&nbsp; to &nbsp;Will</td><td align="right"><a href="javascript:document.getElementById('comment').focus()" onclick="reply_comment(1963,'Suny Tse')">Reply</a></td></tr></table></div><!-- /commentmeta --><div class="commententry"><p>I have released a new version, it will import historic data automatically.</p></div><!-- /commententry --></li><!--donot-dump-html-tag-->
<table class="widefat page fixed" width="100%" cellpadding="1" cellspacing="1">

<tr>

	<td align="left"><a href="?c=1&o=d"><< PrePage</a></td>

	<td colspan="2" align="center">Current: 1 / 2</td>

	<td align="right"><a href="?c=2&o=d">NextPage >></a></td>

</tr>

</table>


</ol>


<!-- START COMMENT FORMS -->


		</div><!--/comments-->		

</div><!-- /content -->
<div id="sidebar">			
			<a class="subscribe" href="http://www.xieziming.com/feed" title="Posts RSS">Subscribe</a>			
			<div id="search">	
	<form name="searchform" id="searchform" method="get" action="http://www.xieziming.com/index.php">
		<input class="text" type="text" name="s" id="s" value=""/>
		<input class="submit" type="image" src="http://www.xieziming.com/wp-content/themes/ziming/img/submit.jpg" value="search" />
	</form>	
</div><!-- /search -->			
			<div id="widgets">			
			<div class="widget"><h3>Calendar</h3>
<table id="wp-calendar">
  									<caption>December 2016</caption>
  									<thead>
                    <tr><th scope="col" title="S">S</th><th scope="col" title="M">M</th><th scope="col" title="T">T</th><th scope="col" title="W">W</th><th scope="col" title="T">T</th><th scope="col" title="F">F</th><th scope="col" title="S">S</th></tr></thead><tbody><tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>1</td><td>2</td><td>3</td></tr><tr><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td></tr><tr><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td><td>16</td><td>17</td></tr><tr><td><span class="calnk_side"><a href="http://www.xieziming.com/calendar"  style="background-color:#E4E6BF;" target="_blank">18<span style="background-color:#E4E6BF; color:#000000;"><span class="event-title" style="color:#000000">《血战钢锯岭》</span><br/><span class="time" style="color:#000000; " > Time : 21:18 - 23:28</span><br /><p style="font-size:85%; margin:10px; text-align:left; color:#000000">晚上和小锅去看，蛮感人的。吃完去沙湾吃猪杂粥，应该是我在那吃到的最新鲜的一次了。</p></span></a></span></td><td><span class="calnk_side"><a href="http://www.xieziming.com/calendar"  style="background-color:#E4E6BF;" target="_blank">19<span style="background-color:#E4E6BF; color:#000000;"><span class="event-title" style="color:#000000">CentOS</span><br/><span class="time" style="color:#000000; " > Time : 14:11 - 18:11</span><br /><p style="font-size:85%; margin:10px; text-align:left; color:#000000">终于有点时间来把那盒子的win7转成CentOS来做server。配置vsftp花了我太多的时间。。。</p></span></a></span></td><td>20</td><td>21</td><td>22</td><td>23</td><td>24</td></tr><tr><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td><td>31</td></tr><tr><td colspan="3" id="prev"><a href="http://www.xieziming.com/archives/6720.html?month=nov&yr=2016">&laquo; Prev</a></td><td colspan="4" id="next"><a href="http://www.xieziming.com/archives/6720.html?month=jan&yr=2017">Next &raquo;</a></td></tr></tbody></table>
<div class="widgetbottom"></div></div><!--/widget-->				
					      		<div class="widget">
 							<h3>Recent Posts</h3>
							<ul>
           				<li><a href="http://www.xieziming.com/archives/9579.html" class="dashedline" title="闽南 · 泉州">闽南 &middot; 泉州</a></li><li><a href="http://www.xieziming.com/archives/9578.html" class="dashedline" title="顺化 · HUE">顺化 &middot; HUE</a></li><li><a href="http://www.xieziming.com/archives/9577.html" class="dashedline" title="会安 · 春卷">会安 &middot; 春卷</a></li><li><a href="http://www.xieziming.com/archives/9576.html" class="dashedline" title="会安 · 夜灯">会安 &middot; 夜灯</a></li><li><a href="http://www.xieziming.com/archives/9575.html" class="dashedline" title="会安古镇">会安古镇</a></li><li><a href="http://www.xieziming.com/archives/9573.html" class="dashedline" title="岘港">岘港</a></li><li><a href="http://www.xieziming.com/archives/9535.html" class="dashedline" title="罗马">罗马</a></li><li><a href="http://www.xieziming.com/archives/9534.html" class="dashedline" title="卢浮宫">卢浮宫</a></li>						
							</ul>
      				<div class="widgetbottom"></div>
	    		</div>
	    			        
        	      		<div class="widget">
 							<h3>Rand Posts</h3>
							<ul>
      						<li><a href="http://www.xieziming.com/archives/8895.html" class="dashedline" title="汴京开封">汴京开封</a></li><li><a href="http://www.xieziming.com/archives/1314.html" class="dashedline" title="人文（二）">人文（二）</a></li><li><a href="http://www.xieziming.com/archives/7309.html" class="dashedline" title="川藏线（巴松措）">川藏线（巴松措）</a></li><li><a href="http://www.xieziming.com/archives/2577.html" class="dashedline" title="大型网站架构策略">大型网站架构策略</a></li><li><a href="http://www.xieziming.com/archives/9560.html" class="dashedline" title="萨尔茨堡">萨尔茨堡</a></li><li><a href="http://www.xieziming.com/archives/9225.html" class="dashedline" title="博卡拉 · 费瓦湖">博卡拉 &middot; 费瓦湖</a></li><li><a href="http://www.xieziming.com/archives/7846.html" class="dashedline" title="槟城（二）">槟城（二）</a></li><li><a href="http://www.xieziming.com/archives/5915.html" class="dashedline" title="Open">Open</a></li>	
							</ul>
        			<div class="widgetbottom"></div>
					</div>                 
          	                       
			</div><!-- /widgets -->			                       
</div><!-- /sidebar --></div><!-- /main -->
<div id="footer">
<p align="left">© <a href="http://www.miitbeian.gov.cn" target="_blank"> 明 · 明 · 童 · 鞋</a></p>
<!--87 queries in 7.197 seconds.-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c2e18b43ec905e3c4ea82c1b57537223";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</div><!-- /footer -->
</div><!-- /container -->
<script type='text/javascript' src='http://www.xieziming.com/wp-includes/js/wp-embed.min.js?ver=4.7'></script>
</body>
</html>